{% extends 'base/base.html' %}
{% load static %}

{% block title %}Home - MeroUni Resources{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center hero-content">
            <div class="col-lg-6 hero-text">
                <h1 class="display-4 fw-bold mb-4">Excel in Computer Science & AI with Confidence</h1>
                <p class="lead mb-4">Comprehensive notes, question banks, and lab resources tailored for every semester of your CS&AI journey at LTU.</p>
                
                <!-- Search Form -->
                <form class="search-form" method="GET" action="{% url 'search_resources' %}">
                    <div class="input-group">
                        <input type="text" class="form-control search-input" name="q" placeholder="Search for notes, questions, solutions..." aria-label="Search">
                        <button class="btn btn-light search-btn" type="submit">
                            <i class="bi bi-search me-2"></i>Search
                        </button>
                    </div>
                </form>
            </div>
            <div class="col-lg-6">
                <div class="hero-image-container text-center">
                    <img src="{% static 'Merouni-Logo.png' %}" alt="Students learning computer science" class="img-fluid hero-image" loading="lazy" width="600" height="400">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Semester Cards -->
<section class="container">
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h2 class="fw-bold mb-4">Semester wise CS&AI Resources</h2>
            <p class="text-muted mb-5">Choose your semester to access complete study materials</p>
        </div>
    </div>
    
    <div class="row g-4">
        {% for semester in semesters %}
        <div class="col-lg-3 col-md-4 col-sm-6">
            <a href="{% url 'semester_detail' semester.number %}" class="text-decoration-none">
                <div class="semester-card">
                    <div class="semester-number">{{ semester.number }}</div>
                    <h5 class="fw-bold mb-2">{{ semester.name }}</h5>
                    <p class="text-muted mb-3">{{ semester.subjects.count }} Subjects</p>
                    <div class="d-flex justify-content-center">
                        <span class="badge bg-primary">{{ semester.subjects.count }} subjects available</span>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Features Section -->
<section class="container mt-5">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2 class="fw-bold">Why Choose MeroUni</h2>
            <p class="text-muted">Everything you need for your CS&AI journey</p>
        </div>
    </div>
    
    <div class="row g-4">
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-file-earmark-text display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Complete Notes</h5>
                    <p class="card-text">Access comprehensive notes for all subjects across all semesters, prepared by experts and students.</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-question-circle display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Question Banks</h5>
                    <p class="card-text">Practice with extensive question banks and previous year papers to prepare for your exams effectively.</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-code-slash display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Lab Solutions</h5>
                    <p class="card-text">Get complete lab solutions and practical implementations for programming and technical subjects.</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-search display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Easy Search</h5>
                    <p class="card-text">Quickly find the resources you need with our powerful search and filtering capabilities.</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-download display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Free Downloads</h5>
                    <p class="card-text">Download all resources for free and access them offline whenever you need them.</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-people display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Community Driven</h5>
                    <p class="card-text">Resources contributed by students and faculty members to help the entire CSAI community.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Recent Resources -->
{% if recent_resources %}
<section class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h3 class="fw-bold mb-4">Recently Added Resources</h3>
        </div>
    </div>
    
    <div class="row g-4">
        {% for resource in recent_resources %}
        <div class="col-lg-4 col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <span class="badge bg-secondary">{{ resource.resource_type.name }}</span>
                        <small class="text-muted">{{ resource.uploaded_at|date:"M d" }}</small>
                    </div>
                    <h6 class="card-title">{{ resource.title }}</h6>
                    <p class="card-text text-muted small">{{ resource.subject.name }}</p>
                    <p class="card-text small">{{ resource.description|truncatewords:15 }}</p>
                </div>
                <div class="card-footer bg-transparent">
                    <div class="d-flex justify-content-between align-items-center">
                        <small class="text-muted">
                            <i class="bi bi-download me-1"></i>{{ resource.download_count }} downloads
                        </small>
                        <a href="{% url 'resource_detail' resource.pk %}" class="btn btn-sm btn-outline-primary">View</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}
{% endblock %}

